(function(){"use strict";var e={146:function(e,t,a){var i=a(5130),n=a(6768),s=a(4232),l=a.p+"img/logo_novatool2.2b6b6112.png";const r={class:"app"},o={class:"main-header"},c={class:"header-content"},d={class:"main-content"};function u(e,t,a,i,u,h){const p=(0,n.g2)("router-link"),g=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[t[9]||(t[9]=(0,n.Lk)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"},null,-1)),(0,n.Lk)("div",r,[(0,n.Lk)("header",o,[(0,n.Lk)("div",c,[t[7]||(t[7]=(0,n.Lk)("img",{src:l,alt:"Novatool Logo",class:"logo"},null,-1)),(0,n.Lk)("button",{class:"hamburger-btn",onClick:t[0]||(t[0]=(...e)=>h.toggleMobileMenu&&h.toggleMobileMenu(...e)),"aria-label":"Toggle navigation menu"},t[1]||(t[1]=[(0,n.Lk)("span",{class:"hamburger-icon"},"☰",-1)])),(0,n.Lk)("nav",{class:(0,s.C4)(["main-nav",{"mobile-menu-open":u.isMobileMenuOpen}])},[(0,n.bF)(p,{to:"/",class:"nav-link",onClick:h.closeMobileMenu},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("Image Converter")]))),_:1},8,["onClick"]),(0,n.bF)(p,{to:"/image-map",class:"nav-link",onClick:h.closeMobileMenu},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("Image map")]))),_:1},8,["onClick"]),(0,n.bF)(p,{to:"/binary-viewer",class:"nav-link",onClick:h.closeMobileMenu},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("Binary Viewer")]))),_:1},8,["onClick"]),(0,n.bF)(p,{to:"/battery-calc",class:"nav-link",onClick:h.closeMobileMenu},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("Battery Calc")]))),_:1},8,["onClick"]),(0,n.bF)(p,{to:"/change-logs",class:"nav-link",onClick:h.closeMobileMenu},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("Change Log")]))),_:1},8,["onClick"])],2)])]),(0,n.Lk)("main",d,[(0,n.bF)(g)]),t[8]||(t[8]=(0,n.Lk)("div",{style:{"text-align":"center",padding:"10px"}},[(0,n.Lk)("a",{href:"https://hits.sh/bitsyndrome.github.io/"},[(0,n.Lk)("img",{alt:"Hits",src:"https://hits.sh/bitsyndrome.github.io.svg"})])],-1))])],64)}var h={name:"App",data(){return{isMobileMenuOpen:!1}},methods:{toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen},closeMobileMenu(){this.isMobileMenuOpen=!1}}},p=a(1241);const g=(0,p.A)(h,[["render",u],["__scopeId","data-v-73c4c926"]]);var v=g,m=a(1387);const f={class:"container"},b={class:"image-converter"},k={class:"upload-section"},y={class:"import-btn"},L={key:0,class:"selected-files"},C=["onClick"],w={class:"file-info"},A={class:"file-name"},I={class:"file-size"},E={key:0,class:"preview-section"},F={class:"image-preview"},R={class:"preview-container"},x=["src"],B={class:"image-info"},$={key:1,class:"conversion-options"},M={class:"format-selection"},_={class:"option-row"},S={class:"option-control"},U={class:"select-wrapper"},X={class:"color-legend-item"},G={class:"legend-description"},W={class:"output-selection"},N={class:"option-row"},T={class:"option-control"},O={class:"select-wrapper"},P={key:0,class:"option-row"},D={class:"option-control"},z={class:"checkbox-container"},K=["disabled"],V={key:2,class:"conversion-results"},J={class:"results-list"},j={class:"result-info"};function Q(e,t,a,l,r,o){return(0,n.uX)(),(0,n.CE)("div",f,[(0,n.Lk)("div",b,[(0,n.Lk)("div",k,[(0,n.Lk)("input",{type:"file",accept:"image/*",onChange:t[0]||(t[0]=(...e)=>o.onFilesSelected&&o.onFilesSelected(...e)),ref:"fileInput",multiple:""},null,544),(0,n.Lk)("label",y,[(0,n.Lk)("input",{onClick:t[1]||(t[1]=t=>e.$refs.fileInput.click()),class:"file-input"}),t[6]||(t[6]=(0,n.Lk)("span",{class:"material-icons"},"file_open",-1)),t[7]||(t[7]=(0,n.eW)(" Select Images "))]),r.selectedFiles.length>0?((0,n.uX)(),(0,n.CE)("div",L,[(0,n.Lk)("p",null,"Selected "+(0,s.v_)(r.selectedFiles.length)+" files:",1),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.selectedFiles,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t,onClick:t=>o.loadImagePreview(e)},[(0,n.Lk)("div",w,[(0,n.Lk)("span",A,(0,s.v_)(e.name),1),(0,n.Lk)("span",I,(0,s.v_)(o.formatFileSize(e.size)),1)])],8,C)))),128))])])):(0,n.Q3)("",!0)]),r.imagePreview?((0,n.uX)(),(0,n.CE)("div",E,[t[8]||(t[8]=(0,n.Lk)("h3",null,"Preview",-1)),(0,n.Lk)("div",F,[(0,n.Lk)("div",R,[(0,n.Lk)("img",{class:"checkerboard",src:r.imagePreview,alt:"미리보기",style:{objectFit:"contain"}},null,8,x),(0,n.Lk)("div",B,(0,s.v_)(r.imageWidth)+" X "+(0,s.v_)(r.imageHeight),1)])])])):(0,n.Q3)("",!0),r.selectedFiles.length>0?((0,n.uX)(),(0,n.CE)("div",$,[t[16]||(t[16]=(0,n.Lk)("h3",null,"Conversion Options",-1)),(0,n.Lk)("div",M,[(0,n.Lk)("div",_,[t[10]||(t[10]=(0,n.Lk)("div",{class:"option-label"},[(0,n.Lk)("h3",null,"Color Format")],-1)),(0,n.Lk)("div",S,[(0,n.Lk)("div",U,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.format=e)},t[9]||(t[9]=[(0,n.Fv)('<optgroup label="32-bit Format (8888)" data-v-61fb4704><option value="rgba8888" data-v-61fb4704>RGBA8888</option><option value="argb8888" data-v-61fb4704>ARGB8888</option><option value="bgra8888" data-v-61fb4704>BGRA8888</option><option value="abgr8888" data-v-61fb4704>ABGR8888</option></optgroup><optgroup label="16-bit Format (4444)" data-v-61fb4704><option value="rgba4444" data-v-61fb4704>RGBA4444</option><option value="argb4444" data-v-61fb4704>ARGB4444</option><option value="bgra4444" data-v-61fb4704>BGRA4444</option><option value="abgr4444" data-v-61fb4704>ABGR4444</option></optgroup><optgroup label="16-bit Format (565)" data-v-61fb4704><option value="rgb565" data-v-61fb4704>RGB565</option><option value="bgr565" data-v-61fb4704>BGR565</option></optgroup>',3)]),512),[[i.u1,r.format]])]),(0,n.Lk)("div",X,[(0,n.Lk)("div",{class:(0,s.C4)(["color-legend",o.getLegendClass])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.getChannelOrder,(e=>((0,n.uX)(),(0,n.CE)("span",{key:e,style:(0,s.Tr)(o.getChannelStyle(e))},(0,s.v_)(e),5)))),128))],2),(0,n.Lk)("span",G,(0,s.v_)(o.getFormatDescription),1)])])])]),(0,n.Lk)("div",W,[(0,n.Lk)("div",N,[t[12]||(t[12]=(0,n.Lk)("div",{class:"option-label"},[(0,n.Lk)("h3",null,"Output Format")],-1)),(0,n.Lk)("div",T,[(0,n.Lk)("div",O,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.outputType=e)},t[11]||(t[11]=[(0,n.Lk)("option",{value:"binary"},"Binary",-1),(0,n.Lk)("option",{value:"c-array"},"C Array",-1)]),512),[[i.u1,r.outputType]])])])])]),r.selectedFiles.length>1?((0,n.uX)(),(0,n.CE)("div",P,[t[14]||(t[14]=(0,n.Lk)("div",{class:"option-label"},[(0,n.Lk)("h3",null,"Output Options")],-1)),(0,n.Lk)("div",D,[(0,n.Lk)("label",z,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>r.zipOutput=e)},null,512),[[i.lH,r.zipOutput]]),t[13]||(t[13]=(0,n.Lk)("span",null,"Combine all outputs into a ZIP file",-1))])])])):(0,n.Q3)("",!0),(0,n.Lk)("button",{class:"import-btn",onClick:t[5]||(t[5]=(...e)=>o.convertAllImages&&o.convertAllImages(...e)),disabled:r.isConverting},[t[15]||(t[15]=(0,n.Lk)("span",{class:"material-icons"},"published_with_changes",-1)),(0,n.eW)(" "+(0,s.v_)(r.isConverting?"Converting...":r.selectedFiles.length>1?"Convert All Images":"Convert Image"),1)],8,K)])):(0,n.Q3)("",!0),r.conversions.length>0?((0,n.uX)(),(0,n.CE)("div",V,[t[17]||(t[17]=(0,n.Lk)("h3",null,"Conversion Results",-1)),(0,n.Lk)("div",J,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.conversions,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"result-item"},[(0,n.Lk)("div",j,[(0,n.Lk)("strong",null,(0,s.v_)(e.fileName),1),(0,n.Lk)("span",null,(0,s.v_)(e.size)+" KB",1),(0,n.Lk)("span",null,"Compression: "+(0,s.v_)(e.compressionRatio)+"%",1)])])))),128))])])):(0,n.Q3)("",!0)])])}a(4114),a(6573),a(8100),a(7936),a(7467),a(4732),a(9577),a(4603),a(7566),a(8721);var H=a(4813),Y=a.n(H),Z={name:"Novatool NovaTool",created(){document.title=this.$route.name},data(){return{selectedFiles:[],imagePreview:"",imageWidth:0,imageHeight:0,format:"rgba8888",outputType:"binary",zipOutput:!0,isConverting:!1,conversions:[]}},computed:{getLegendClass(){return this.format.split(/\d+/)[0]},getChannelOrder(){const e=this.format.toLowerCase();return e.includes("565")?e.startsWith("rgb")?["R","G","B"]:["B","G","R"]:e.split(/\d+/)[0].toUpperCase().split("")},getFormatDescription(){return this.format.includes("8888")?"32-bit (Each channel 8-bit)":this.format.includes("4444")?"16-bit (Each channel 4-bit)":"16-bit (R:5, G:6, B:5)"}},methods:{onFilesSelected(e){const t=e.target.files;t&&0!==t.length&&(this.conversions.splice(0,this.conversions.length),this.selectedFiles=Array.from(t),this.selectedFiles.length>0&&this.loadImagePreview(this.selectedFiles[0]))},loadImagePreview(e){const t=new FileReader;t.onload=e=>{this.imagePreview=e.target.result,this.loadImageDimensions(e.target.result)},t.readAsDataURL(e)},loadImageDimensions(e){const t=new Image;t.onload=()=>{this.imageWidth=t.width,this.imageHeight=t.height},t.src=e},async convertAllImages(){if(0!==this.selectedFiles.length&&!this.isConverting){this.$gtag.event("button_click",{event_category:"interaction",event_label:"CovertAllImages"}),this.isConverting=!0,this.conversions=[];try{if(1==this.selectedFiles.length||0==this.zipOutput)for(const e of this.selectedFiles)await this.processFile(e);else await this.convertAndZip()}catch(e){console.error("Conversion error:",e),alert("An error occurred during conversion.")}finally{this.isConverting=!1}}},async convertAndZip(){if("undefined"===typeof Y()){alert("ZIP functionality requires JSZip library. Processing files individually.");for(const e of this.selectedFiles)await this.processFile(e);return}const e=new(Y()),t=e.folder("converted_images");for(const s of this.selectedFiles){const e=await this.convertFile(s);if(e){const{data:a,fileName:i,size:n,compressionRatio:l}=e;this.conversions.push({fileName:i,size:(n/1024).toFixed(2),compressionRatio:l}),"binary"===this.outputType?t.file(i+".bin",a):t.file(i+".c",this.generateCCode(a,s.name,a.length))}}const a=await e.generateAsync({type:"blob"}),i=URL.createObjectURL(a),n=document.createElement("a");n.href=i,n.download=`converted_images_${this.format}.zip`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)},async processFile(e){const t=await this.convertFile(e);if(t){const{data:a,fileName:i,size:n,compressionRatio:s}=t;this.conversions.push({fileName:i,size:(n/1024).toFixed(2),compressionRatio:s}),"binary"===this.outputType?this.downloadBinary(a,i):this.downloadCArray(a,i,e.name)}},async convertFile(e){return new Promise((t=>{const a=new FileReader;a.onload=a=>{const i=new Image;i.onload=()=>{const a=document.createElement("canvas");a.width=i.width,a.height=i.height;const n=a.getContext("2d");n.drawImage(i,0,0);const s=n.getImageData(0,0,i.width,i.height).data;let l;this.format.endsWith("8888")?l=this.convertTo8888Format(s,this.format):this.format.endsWith("4444")?l=this.convertTo4444Format(s,this.format):this.format.endsWith("565")&&(l=this.convertTo565Format(s,this.format));const r=s.length,o=(l.length/r*100).toFixed(1);t({data:l,fileName:this.getBaseFileName(e.name),width:i.width,height:i.height,size:l.length,compressionRatio:o})},i.src=a.target.result},a.readAsDataURL(e)}))},getBaseFileName(e){return e.split(".").slice(0,-1).join(".")},convertTo8888Format(e,t){const a=e.length/4,i=new Uint8Array(e.length);for(let n=0;n<a;n++){const a=e[4*n],s=e[4*n+1],l=e[4*n+2],r=e[4*n+3],o=4*n;switch(t){case"rgba8888":i[o]=a,i[o+1]=s,i[o+2]=l,i[o+3]=r;break;case"argb8888":i[o]=r,i[o+1]=a,i[o+2]=s,i[o+3]=l;break;case"bgra8888":i[o]=l,i[o+1]=s,i[o+2]=a,i[o+3]=r;break;case"abgr8888":i[o]=r,i[o+1]=l,i[o+2]=s,i[o+3]=a;break}}return i},convertTo4444Format(e,t){const a=e.length/4,i=new Uint8Array(2*a);for(let n=0;n<a;n++){const a=Math.floor(e[4*n]/16),s=Math.floor(e[4*n+1]/16),l=Math.floor(e[4*n+2]/16),r=Math.floor(e[4*n+3]/16),o=2*n;switch(t){case"rgba4444":i[o]=a<<4|s,i[o+1]=l<<4|r;break;case"argb4444":i[o]=r<<4|a,i[o+1]=s<<4|l;break;case"bgra4444":i[o]=l<<4|s,i[o+1]=a<<4|r;break;case"abgr4444":i[o]=r<<4|l,i[o+1]=s<<4|a;break}}return i},convertTo565Format(e,t){const a=e.length/4,i=new Uint8Array(2*a);for(let n=0;n<a;n++){const a=Math.floor(e[4*n]/255*31),s=Math.floor(e[4*n+1]/255*63),l=Math.floor(e[4*n+2]/255*31),r=2*n;let o;o="rgb565"===t?a<<11|s<<5|l:l<<11|s<<5|a,i[r]=255&o,i[r+1]=o>>8&255}return i},downloadBinary(e,t){const a=new Blob([e],{type:"application/octet-stream"}),i=URL.createObjectURL(a),n=document.createElement("a");n.href=i,n.download=`${t}_${this.format}.bin`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)},downloadCArray(e,t,a){const i=this.generateCCode(e,a,e.length),n=new Blob([i],{type:"text/plain"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=`${t}_${this.format}.c`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)},generateCCode(e,t,a){let i=`// ${this.format} 이미지 데이터 - ${t}\n`;this.format.includes("rgba")?i+="// Byte order: Red, Green, Blue, Alpha\n":this.format.includes("argb")?i+="// Byte order: Alpha, Red, Green, Blue\n":this.format.includes("bgra")?i+="// Byte order: Blue, Green, Red, Alpha\n":this.format.includes("abgr")?i+="// Byte order: Alpha, Blue, Green, Red\n":"rgb565"===this.format?(i+="// RGB565 Format: 16-bit (RRRRRGGGGGGBBBBB)\n",i+="// Little-endian byte order: Lower 8-bit, Upper 8-bit\n"):"bgr565"===this.format&&(i+="// BGR565 Format: 16-bit (BBBBBGGGGGGRRRRR)\n",i+="// Little-endian byte order: Lower 8-bit, Upper 8-bit\n"),this.format.includes("4444")&&(i+="// 4-bit packing format: Each byte contains two 4-bit color values\n");const n=this.getSafeVariableName(t);i+=`const unsigned char ${n}_data[${a}] = {\n`;const s=12;for(let l=0;l<a;l+=s){i+="    ";for(let t=0;t<s&&l+t<a;t++)i+=`0x${e[l+t].toString(16).padStart(2,"0")}`,l+t<a-1&&(i+=", ");i+="\n"}return i+="};\n\n",i+=`const int ${n}_width = ${this.imageWidth};\n`,i+=`const int ${n}_height = ${this.imageHeight};\n`,i+=`const char* ${n}_format = "${this.format}";\n`,i},getSafeVariableName(e){return e.split(".")[0].replace(/[^a-zA-Z0-9]/g,"_").replace(/^[0-9]/,"_$&")},formatFileSize(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"},getChannelStyle(e){const t={R:{background:"#ff0000"},G:{background:"#00ff00"},B:{background:"#0000ff"},A:{background:"#ffffff",color:"#000",textShadow:"none",borderLeft:"1px solid #ddd",borderRight:"1px solid #ddd"}};return t[e]}}};const q=(0,p.A)(Z,[["render",Q],["__scopeId","data-v-61fb4704"]]);var ee=q;const te={class:"page-container"},ae={class:"import-controls-container"},ie={class:"controls-row"},ne={class:"import-controls"},se={class:"import-btn"},le={key:0,class:"import-btn"},re={class:"image-selector"},oe={class:"import-btn"},ce={key:0,class:"switch"},de={key:0,class:"file-info"},ue={key:1,class:"image-section"},he={class:"image-container"},pe={key:0,class:"image-display"},ge=["src"],ve={key:0,name:"workMap"},me=["shape","coords","href","alt","onMouseover"],fe=["src"],be={key:0,class:"area-table-container"},ke={class:"import-controls"},ye={class:"image-path-input"},Le={class:"modern-table"},Ce={class:"area-id"},we=["onUpdate:modelValue","onInput"],Ae=["onUpdate:modelValue","onInput"],Ie=["onUpdate:modelValue","onInput","disabled","title"],Ee=["onUpdate:modelValue","onInput","disabled","title"],Fe={class:"file-upload-container"},Re=["title"],xe=["onChange"],Be={key:0,class:"selected-filename"},$e={class:"actions-cell"},Me=["onClick","title"],_e={class:"material-icons"},Se=["onClick"],Ue={class:"export-buttons"};function Xe(e,t,a,l,r,o){return(0,n.uX)(),(0,n.CE)("div",te,[(0,n.Lk)("div",ae,[(0,n.Lk)("div",ie,[(0,n.Lk)("div",ne,[(0,n.Lk)("label",se,[(0,n.Lk)("input",{type:"file",accept:".json,.h",onChange:t[0]||(t[0]=(...e)=>o.importAreaInfo&&o.importAreaInfo(...e)),class:"file-input"},null,32),t[15]||(t[15]=(0,n.Lk)("span",{class:"material-icons"},"upload_file",-1)),t[16]||(t[16]=(0,n.eW)(" Import "))]),r.imagePath?((0,n.uX)(),(0,n.CE)("label",le,[(0,n.Lk)("input",{type:"file",webkitdirectory:"",directory:"",onChange:t[1]||(t[1]=(...e)=>o.importImages&&o.importImages(...e)),class:"file-input"},null,32),t[17]||(t[17]=(0,n.Lk)("span",{class:"material-icons"},"drive_folder_upload",-1)),t[18]||(t[18]=(0,n.eW)(" Load Images "))])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",re,[(0,n.Lk)("label",oe,[(0,n.Lk)("input",{type:"file",accept:"image/*",onChange:t[2]||(t[2]=(...e)=>o.handleImageUpload&&o.handleImageUpload(...e)),ref:"fileInput",class:"file-input"},null,544),t[19]||(t[19]=(0,n.Lk)("span",{class:"material-icons"},"file_open",-1)),t[20]||(t[20]=(0,n.eW)(" Select BG "))]),r.selectedImage?((0,n.uX)(),(0,n.CE)("label",ce,[t[21]||(t[21]=(0,n.Lk)("span",{class:"switch-label"},"Edit Mode",-1)),(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>r.isEditing=e)},null,512),[[i.lH,r.isEditing]]),t[22]||(t[22]=(0,n.Lk)("span",{class:"slider round"},null,-1))])):(0,n.Q3)("",!0)])])]),r.BGName?((0,n.uX)(),(0,n.CE)("span",de,[t[23]||(t[23]=(0,n.Lk)("span",{class:"material-icons"},"description",-1)),(0,n.eW)(" "+(0,s.v_)(r.BGName),1)])):(0,n.Q3)("",!0),t[29]||(t[29]=(0,n.Lk)("p",null,null,-1)),r.BGName?((0,n.uX)(),(0,n.CE)("div",ue,[(0,n.Lk)("div",he,[r.selectedImage?((0,n.uX)(),(0,n.CE)("div",pe,[(0,n.Lk)("img",{src:r.selectedImage,useMap:"#workMap",class:"image-map",onLoad:t[4]||(t[4]=(...e)=>o.initializeCanvas&&o.initializeCanvas(...e)),onClick:t[5]||(t[5]=(...e)=>o.handleImageClick&&o.handleImageClick(...e)),onMousedown:t[6]||(t[6]=(0,i.D$)(((...e)=>o.startDrawing&&o.startDrawing(...e)),["prevent"])),onMousemove:t[7]||(t[7]=(0,i.D$)(((...e)=>o.drawing&&o.drawing(...e)),["prevent"])),onMouseup:t[8]||(t[8]=(0,i.D$)(((...e)=>o.endDrawing&&o.endDrawing(...e)),["prevent"])),draggable:"false"},null,40,ge),r.isEditing?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("map",ve,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.areas,(e=>((0,n.uX)(),(0,n.CE)("area",{key:e.id,shape:e.shape,coords:e.coords,href:e.href,alt:e.alt,onClick:t[9]||(t[9]=(0,i.D$)((()=>{}),["prevent"])),onMouseover:t=>o.highlightArea(e.id),onMouseout:t[10]||(t[10]=e=>o.removeHighlight())},null,40,me)))),128))])),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.areas,(e=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{key:"bg-"+e.id,class:"area-background",style:(0,s.Tr)(o.getAreaBackgroundStyle(e))},[e.imageUrl?((0,n.uX)(),(0,n.CE)("img",{key:0,src:e.imageUrl,alt:"Area background"},null,8,fe)):(0,n.Q3)("",!0)],4)),[[i.aG,e.visible&&e.imageUrl]]))),128)),(0,n.Lk)("canvas",{ref:"highlightCanvas",class:"highlight-canvas",onClick:t[11]||(t[11]=e=>o.handleCanvasClick(e)),style:(0,s.Tr)({cursor:r.isEditing?"pointer":"default"})},null,4),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.areas,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:(0,s.C4)(["area-number",{selected:r.selectedAreaId===e.id}]),style:(0,s.Tr)(o.getAreaNumberStyle(e))},(0,s.v_)(e.id),7)))),128))])):(0,n.Q3)("",!0)]),r.areas.length>0?((0,n.uX)(),(0,n.CE)("div",be,[t[27]||(t[27]=(0,n.Lk)("h3",null,"Area Info",-1)),(0,n.Lk)("div",ke,[(0,n.Lk)("div",ye,[(0,n.bo)((0,n.Lk)("input",{type:"text",id:"imagePath","onUpdate:modelValue":t[12]||(t[12]=e=>r.imagePath=e),placeholder:"Enter image path",class:"path-input"},null,512),[[i.Jo,r.imagePath]])])]),(0,n.Lk)("table",Le,[t[26]||(t[26]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"No."),(0,n.Lk)("th",null,"X"),(0,n.Lk)("th",null,"Y"),(0,n.Lk)("th",null,"Width"),(0,n.Lk)("th",null,"Height"),(0,n.Lk)("th",null,"Image"),(0,n.Lk)("th")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.areas,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id,class:(0,s.C4)({"editing-row":o.isEditingArea(e.id)})},[(0,n.Lk)("td",Ce,(0,s.v_)(e.id),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>o.getAreaCoords(e).x=t,onInput:t=>o.updateCoord(e.id,"x",t.target.value),class:"coordinate-input"},null,40,we),[[i.Jo,o.getAreaCoords(e).x,void 0,{number:!0}]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>o.getAreaCoords(e).y=t,onInput:t=>o.updateCoord(e.id,"y",t.target.value),class:"coordinate-input"},null,40,Ae),[[i.Jo,o.getAreaCoords(e).y,void 0,{number:!0}]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>o.getAreaCoords(e).width=t,onInput:t=>o.updateCoord(e.id,"width",t.target.value),class:"coordinate-input",disabled:e.imageUrl,title:e.imageUrl?"If an image is set, you can't change its width":""},null,40,Ie),[[i.Jo,o.getAreaCoords(e).width,void 0,{number:!0}]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>o.getAreaCoords(e).height=t,onInput:t=>o.updateCoord(e.id,"height",t.target.value),class:"coordinate-input",disabled:e.imageUrl,title:e.imageUrl?"If an image is set, you can't change its height":""},null,40,Ee),[[i.Jo,o.getAreaCoords(e).height,void 0,{number:!0}]])]),(0,n.Lk)("td",null,[(0,n.Lk)("div",Fe,[(0,n.Lk)("label",{class:"custom-file-upload",title:"Select an image for "+e.id},[(0,n.Lk)("input",{type:"file",accept:"image/*",onChange:t=>o.handleAreaImageUpload(t,e.id),class:"image-upload"},null,40,xe),t[24]||(t[24]=(0,n.Lk)("span",{class:"material-icons"},"image",-1))],8,Re),r.areaFilenames[e.id]?((0,n.uX)(),(0,n.CE)("span",Be,(0,s.v_)(r.areaFilenames[e.id]),1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("td",$e,[(0,n.Lk)("button",{onClick:t=>o.toggleVisibility(e.id),class:"action-btn visibility",title:e.visible?"Hide":"Show"},[(0,n.Lk)("span",_e,(0,s.v_)(e.visible?"visibility":"visibility_off"),1)],8,Me),(0,n.Lk)("button",{onClick:t=>o.deleteArea(e.id),class:"action-btn delete",title:"Remove area"},t[25]||(t[25]=[(0,n.Lk)("span",{class:"material-icons"},"clear",-1)]),8,Se)])],2)))),128))])]),t[28]||(t[28]=(0,n.Lk)("p",null,null,-1)),(0,n.Lk)("div",Ue,[(0,n.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>o.exportAsJson&&o.exportAsJson(...e)),class:"export-btn"},"Save to JSON "),(0,n.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>o.exportAsCStruct&&o.exportAsCStruct(...e)),class:"export-btn"},"Save to C Struct")])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])}a(8111),a(2489),a(116),a(7588),a(1701);var Ge={name:"ImageMap",data(){return{selectedImage:null,areas:[],areaFilenames:{},isEditing:!0,isDrawing:!1,startX:0,startY:0,currentArea:null,editingAreaId:null,isDragging:!1,selectedAreaId:null,dragStartX:0,dragStartY:0,imagePath:"",BGName:"",BGSize:""}},methods:{toggleVisibility(e){const t=this.areas.find((t=>t.id===e));t&&(t.visible=!t.visible,this.drawSavedAreas())},handleCanvasClick(e){if(!this.isEditing)return;const t=e.target.getBoundingClientRect(),a=e.target.width/e.target.clientWidth,i=(e.clientX-t.left)*a,n=(e.clientY-t.top)*a,s=this.areas.find((e=>{const[t,a,s,l]=e.coords.split(",").map(Number);return i>=t&&i<=s&&n>=a&&n<=l}));s?(this.selectedAreaId=s.id,this.highlightArea(s.id)):(this.selectedAreaId=null,this.drawSavedAreas())},selectArea(e){this.selectedAreaId=e},handleImageClick(e){e.target.classList.contains("image-map")&&(this.selectedAreaId=null)},importImages(e){const t=Array.from(e.target.files),a={};t.forEach((e=>{if(e.type.startsWith("image/")){const t=new FileReader;t.onload=t=>{a[e.name]=t.target.result,e.name===this.BGName&&(this.selectedImage=t.target.result),this.areas.forEach((a=>{this.areaFilenames[a.id]===e.name&&(a.imageUrl=t.target.result)}))},t.readAsDataURL(e)}}))},importAreaInfo(e){const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=async e=>{const a=e.target.result;t.name.endsWith(".json")?await this.importFromJson(a):t.name.endsWith(".h")&&await this.importFromCStruct(a)},a.readAsText(t)},clearAllAreas(){this.areas=[],this.areaFilenames={}},importFromJson(e){try{const t=JSON.parse(e);let a;if(this.imagePath=t.imagePath||"",this.BGName=t.BGName||"",Array.isArray(t))a=t,this.imagePath="";else{if(!t||"object"!==typeof t)throw new Error("Invalid JSON structure");this.imagePath=t.imagePath||"",a=t.areas&&Array.isArray(t.areas)?t.areas:[t]}this.clearAllAreas(),this.areas=a.map((e=>e.coordinates?{id:e.id||0,shape:"rect",coords:`${e.coordinates.x},${e.coordinates.y},${e.coordinates.x+e.coordinates.width},${e.coordinates.y+e.coordinates.height}`,href:"#",alt:`Area ${e.id||0}`,imageUrl:null,visible:void 0===e.visible||e.visible}:(console.error("Missing coordinates in area:",e),null))).filter((e=>null!==e)),this.areaFilenames={},a.forEach((e=>{e.id&&e.filename&&(this.areaFilenames[e.id]=e.filename)})),this.$nextTick((()=>{this.$refs.highlightCanvas&&this.selectedImage&&this.drawSavedAreas()}))}catch(t){console.error("Error importing JSON:",t),alert("The JSON file format is not correct:"+t.message)}},importFromCStruct(e){try{const t=e.match(/#define IMAGE_PATH "([^"]*)"/)||e.match(/\/\/ Image Path: (.+)/);t&&t[1]&&(this.imagePath=t[1]);const a=e.match(/#define BGName "([^"]*)"/)||e.match(/\/\/ BG Name: (.+)/);a&&a[1]&&(this.BGName=a[1]);const i=/{\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*"([^"]*)"\s*,\s*(\d+)\s*}/g;let n;this.clearAllAreas();while(null!==(n=i.exec(e))){const e=parseInt(n[1]),t=parseInt(n[2]),a=parseInt(n[3]),i=parseInt(n[4]),s=parseInt(n[5]),l=n[6],r="1"===n[7];this.areas.push({id:e,shape:"rect",coords:`${t},${a},${t+i},${a+s}`,href:"#",alt:`Area ${e}`,imageUrl:null,visible:r}),l&&(this.areaFilenames[e]=l),console.log("Imported area:",{id:e,x:t,y:a,width:i,height:s,filename:l,visible:r})}if(0===this.areas.length)return console.error("No areas found in the C struct file. Content:",e),void alert("No valid areas found in the C struct file.");this.$nextTick((()=>{this.$refs.highlightCanvas&&this.selectedImage&&this.drawSavedAreas()})),console.log("Successfully imported C struct data:",this.areas)}catch(t){console.error("Error importing C struct:",t),alert("The C Struct file format is not correct: "+t.message)}},exportAsJson(){const e={imagePath:this.imagePath,BGName:this.BGName,areas:this.areas.map((e=>({id:e.id,coordinates:this.getAreaCoords(e),filename:this.areaFilenames[e.id]||"",visible:e.visible})))},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});this.downloadFile(t,"image_map_areas.json")},exportAsCStruct(){let e="// Image Path: "+this.imagePath+"\n";e+="// BG Name: "+this.BGName+"\n\n",e+="typedef struct {\n",e+="    int id;\n",e+="    int x;\n",e+="    int y;\n",e+="    int width;\n",e+="    int height;\n",e+="    char filename[256];\n",e+="    int visible;\n",e+="} Area;\n\n",e+='#define IMAGE_PATH "'+this.imagePath+'"\n',e+='#define BGName "'+this.BGName+'"\n\n',e+="Area areas[] = {\n",this.areas.forEach((t=>{const a=this.getAreaCoords(t),i=this.areaFilenames[t.id]||"";e+=`    {${t.id}, ${a.x}, ${a.y}, ${a.width}, ${a.height}, "${i}", ${t.visible?1:0}},\n`})),e+="};\n";const t=new Blob([e],{type:"text/plain"});this.downloadFile(t,"image_map_areas.h")},downloadFile(e,t){const a=document.createElement("a");a.href=URL.createObjectURL(e),a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)},getAreaBackgroundStyle(e){const t=this.getAreaCoords(e);return{position:"absolute",left:`${t.x}px`,top:`${t.y}px`,width:`${t.width}px`,height:`${t.height}px`,overflow:"hidden"}},triggerFileInput(){this.$refs.fileInput.click()},formatFileSize(e){const t=["B","KB","MB","GB"];let a=e,i=0;while(a>=1024&&i<t.length-1)a/=1024,i++;return`${a.toFixed(1)} ${t[i]}`},handleImageUpload(e){const t=e.target.files[0];if(t&&t.type.startsWith("image/")){this.BGName=t.name,this.BGSize=this.formatFileSize(t.size);const e=new FileReader;e.onload=e=>{this.selectedImage=e.target.result,this.$emit("image-selected",t)},e.readAsDataURL(t),this.isEditing=!0}},toggleEditMode(){this.isEditing=!this.isEditing},drawSavedAreas(){const e=this.$refs.highlightCanvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),this.areas.forEach((e=>{const[a,i,n,s]=e.coords.split(",").map((e=>Math.round(Number(e)))),l=n-a,r=s-i;t.strokeStyle="white",t.lineWidth=2,t.setLineDash([]),t.strokeRect(a,i,l,r),t.strokeStyle="black",t.lineWidth=1,t.setLineDash([4,4]),t.strokeRect(a,i,l,r)})),t.setLineDash([])},startDrawing(e){if(!this.isEditing)return;const t=e.target.getBoundingClientRect(),a=e.target.naturalWidth/e.target.clientWidth;this.startX=Math.round((e.clientX-t.left)*a),this.startY=Math.round((e.clientY-t.top)*a),this.isDrawing=!0,this.currentArea={startX:this.startX,startY:this.startY}},drawing(e){if(!this.isDrawing||!this.isEditing)return;const t=e.target.getBoundingClientRect(),a=e.target.naturalWidth/e.target.clientWidth,i=Math.round((e.clientX-t.left)*a),n=Math.round((e.clientY-t.top)*a),s=this.$refs.highlightCanvas,l=s.getContext("2d");l.clearRect(0,0,s.width,s.height),this.drawSavedAreas();const r=i-this.currentArea.startX,o=n-this.currentArea.startY;l.fillStyle="rgba(255, 255, 255, 0.3)",l.fillRect(this.currentArea.startX,this.currentArea.startY,r,o),l.strokeStyle="white",l.lineWidth=2,l.strokeRect(this.currentArea.startX,this.currentArea.startY,r,o),l.strokeStyle="black",l.lineWidth=1,l.setLineDash([4,4]),l.strokeRect(this.currentArea.startX,this.currentArea.startY,r,o),l.setLineDash([])},handleAreaImageUpload(e,t){const a=e.target.files[0];if(a&&a.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{const i=this.areas.find((e=>e.id===t)),n=new Image;n.onload=()=>{const s=this.getAreaCoords(i);i.imageUrl=e.target.result,i.coords=`${s.x},${s.y},${s.x+n.width},${s.y+n.height}`,this.areaFilenames[t]=a.name,this.drawSavedAreas()},n.src=e.target.result},e.readAsDataURL(a)}},endDrawing(e){if(!this.isDrawing||!this.isEditing)return;const t=e.target.getBoundingClientRect(),a=e.target.naturalWidth/e.target.clientWidth,i=Math.round((e.clientX-t.left)*a),n=Math.round((e.clientY-t.top)*a);if(Math.abs(i-this.currentArea.startX)<10||Math.abs(n-this.currentArea.startY)<10)return this.isDrawing=!1,void this.drawSavedAreas();const s={id:this.areas.length+1,shape:"rect",coords:`${this.currentArea.startX},${this.currentArea.startY},${i},${n}`,href:"#",alt:`Area ${this.areas.length+1}`,imageUrl:null,visible:!0};this.areas.push(s),this.isDrawing=!1,this.drawSavedAreas()},highlightArea(e){const t=this.$refs.highlightCanvas,a=t.getContext("2d");this.drawSavedAreas();const i=this.areas.find((t=>t.id===e)),[n,s,l,r]=i.coords.split(",").map((e=>Math.round(Number(e)))),o=l-n,c=r-s;a.fillStyle="rgba(0, 255, 0, 0.3)",a.fillRect(n,s,o,c),a.strokeStyle="white",a.lineWidth=2,a.setLineDash([]),a.strokeRect(n,s,o,c),a.strokeStyle="black",a.lineWidth=1,a.setLineDash([4,4]),a.strokeRect(n,s,o,c),a.setLineDash([])},removeHighlight(){this.drawSavedAreas()},initializeCanvas(){const e=event.target,t=this.$refs.highlightCanvas;t.width=e.width,t.height=e.height,this.drawSavedAreas()},getAreaCoords(e){const[t,a,i,n]=e.coords.split(",").map(Number);return{x:Math.min(t,i),y:Math.min(a,n),width:Math.abs(i-t),height:Math.abs(n-a)}},getAreaNumberStyle(e){const t=this.getAreaCoords(e);return{left:`${t.x}px`,top:`${t.y}px`}},deleteArea(e){this.areas=this.areas.filter((t=>t.id!==e)),this.drawSavedAreas()},toggleEdit(e){this.editingAreaId=this.editingAreaId===e?null:e},isEditingArea(e){return this.editingAreaId===e},updateCoord(e,t,a){const i=this.areas.find((t=>t.id===e)),n=this.getAreaCoords(i);switch(a=!a||isNaN(a)||a<0?0:parseInt(a),t){case"x":i.coords=`${a},${n.y},${a+n.width},${n.y+n.height}`;break;case"y":i.coords=`${n.x},${a},${n.x+n.width},${a+n.height}`;break;case"width":i.coords=`${n.x},${n.y},${n.x+a},${n.y+n.height}`;break;case"height":i.coords=`${n.x},${n.y},${n.x+n.width},${n.y+a}`;break}this.drawSavedAreas()}}};const We=(0,p.A)(Ge,[["render",Xe],["__scopeId","data-v-4c156f6a"]]);var Ne=We,Te=(a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(144));const Oe={class:"binary-viewer"},Pe={class:"viewer-container"},De={class:"file-section"},ze={class:"file-input-container"},Ke={class:"import-btn"},Ve={class:"file-info"},Je={class:"file-export-container"},je={key:0,class:"export-btn"},Qe={key:0,class:"format-section"},He={key:1,class:"loading-section"},Ye={class:"progress-bar"},Ze={key:2,class:"control-section"},qe={class:"left-controls"},et={class:"address"},tt={class:"hex-values"},at=["onClick"],it={key:0,class:"ascii-values"},nt=["onClick"],st=1048576,lt=16,rt=10485760;var ot={__name:"BinaryViewer",setup(e){const t=(0,Te.KR)(null),a=(0,Te.KR)(null),l=(0,Te.KR)(""),r=(0,Te.KR)(""),o=(0,Te.KR)(!1),c=(0,Te.KR)(0),d=(0,Te.KR)(!0),u=(0,Te.KR)(16),h=(0,Te.KR)(new Set),p=(0,Te.KR)(0),g=(0,Te.KR)(null),v=(0,Te.KR)(new Map),m=(0,Te.KR)([]),f=(0,Te.KR)(null),b=(0,Te.KR)("binary"),k=(0,Te.KR)(null),y=(0,Te.KR)(!1),L=(0,n.EW)((()=>m.value)),C=(0,n.EW)((()=>{if(!g.value&&!k.value)return 0;if("hex"===b.value&&k.value){const e=Math.floor(k.value.length/u.value),t=k.value.length%u.value>0;return e+(t?1:0)}const e=Math.floor(g.value.size/u.value),t=g.value.size%u.value>0;return e+(t?1:0)})),w=(0,n.EW)((()=>C.value*lt)),A=(0,n.EW)((()=>Math.max(0,p.value)*lt)),I=e=>e.toString(16).padStart(8,"0").toUpperCase(),E=e=>void 0===e?"  ":e.toString(16).padStart(2,"0").toUpperCase(),F=e=>void 0===e?" ":e>=32&&e<=126?String.fromCharCode(e):".",R=e=>h.value.has(e),x=e=>{const t=["B","KB","MB","GB"];let a=e,i=0;while(a>=1024&&i<t.length-1)a/=1024,i++;return`${a.toFixed(1)} ${t[i]}`},B=e=>{const t=e.split(/\r?\n/).filter((e=>e.trim().length>0)),a=new Uint8Array(16777216);let i=0,n=0;for(const s of t){if(":"!==s[0])continue;const e=parseInt(s.substr(1,2),16),t=parseInt(s.substr(3,4),16),l=parseInt(s.substr(7,2),16);switch(l){case 0:for(let l=0;l<e;l++){const e=parseInt(s.substr(9+2*l,2),16),r=n+t+l;a[r]=e,i=Math.max(i,r)}break;case 1:break;case 2:n=16*parseInt(s.substr(9,4),16);break;case 4:n=65536*parseInt(s.substr(9,4),16);break}}return a.slice(0,i+1)},$=()=>{if(!k.value)return;const e=new Blob([k.value],{type:"application/octet-stream"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t;const i=l.value,n=i.toLowerCase().endsWith(".hex")?i.slice(0,-4):i;a.download=`${n}.bin`,document.body.appendChild(a),a.click(),setTimeout((()=>{document.body.removeChild(a),URL.revokeObjectURL(t)}),0)},M=async(e,t)=>{const a=[];if("hex"===b.value&&k.value)for(let i=e;i<t;i++){const e=i*u.value;if(e>=k.value.length)break;const t=k.value.length-e,n=Math.min(u.value,t),s=Array.from(k.value.slice(e,e+n));a.push({index:i,offset:e,bytes:s})}else{const i=e*u.value,n=Math.min(t*u.value,g.value.size);await S(i,n);const s=Math.floor(g.value.size/u.value),l=g.value.size%u.value>0,r=s+(l?0:-1);for(let o=e;o<=r&&o<t;o++){const e=o*u.value;if(e>=g.value.size)break;const t=g.value.size-e,i=Math.min(u.value,t),n=await G(e,i);a.push({index:o,offset:e,bytes:n})}}return a},_=e=>Math.floor(e/st)*st,S=async(e,t)=>{const a=_(e),i=_(t);for(let n=a;n<=i;n+=st)v.value.has(n)||await X(n);while(U()>rt){const e=v.value.keys().next().value;v.value.delete(e)}},U=()=>{let e=0;for(const t of v.value.values())e+=t.length;return e},X=async e=>{const t=g.value.slice(e,Math.min(e+st,g.value.size)),a=await T(t);v.value.set(e,new Uint8Array(a))},G=async(e,t)=>{const a=_(e),i=v.value.get(a);if(!i)return new Array(t).fill(void 0);const n=e-a,s=i.slice(n,n+t);return e+s.length>g.value.size&&(s.length=g.value.size-e),Array.from(s)},W=async e=>{const i=e.target.files[0];if(i){if(l.value=i.name,r.value=x(i.size),g.value=i,v.value.clear(),p.value=0,o.value=!0,c.value=0,y.value=i.name.toLowerCase().endsWith(".hex"),y.value){b.value="hex";try{const e=await N(i);k.value=B(e),r.value=x(k.value.length)}catch(s){console.error("인텔 헥사 파일 파싱 오류:",s)}}else b.value="binary";try{a.value=!0,await(0,n.dY)(),t.value&&(console.debug("Registering scroll event handler"),t.value.addEventListener("scroll",P)),await O()}catch(s){console.error("파일 로딩 오류:",s)}finally{o.value=!1}}},N=e=>new Promise(((t,a)=>{const i=new FileReader;i.onload=e=>t(e.target.result),i.onerror=a,i.readAsText(e)})),T=e=>new Promise(((t,a)=>{const i=new FileReader;i.onload=e=>t(e.target.result),i.onerror=a,i.readAsArrayBuffer(e)})),O=async()=>{if(!g.value)return;const e=t.value?.clientHeight||0,a=Math.ceil(e/lt)+10,i=Math.max(0,p.value-5),n=Math.min(C.value,p.value+a+5),s=await M(i,n);m.value=s},P=()=>{if(!t.value||!g.value)return;const e=Math.floor(t.value.scrollTop/lt);e!==p.value&&(p.value=e,O())},D=e=>{f.value=f.value===e?null:e},z=e=>f.value===e;return(0,n.wB)(b,(async e=>{if(g.value&&y.value){if("hex"===e&&!k.value){o.value=!0;try{const e=await N(g.value);k.value=B(e),r.value=x(k.value.length)}catch(t){console.error("인텔 헥사 파일 파싱 오류:",t)}finally{o.value=!1}}O()}})),(0,n.wB)(u,(e=>{document.documentElement.style.setProperty("--bytes-per-line",e.toString()),O()}),{immediate:!0}),(0,n.sV)((()=>{console.debug("Component mounted")})),(0,n.hi)((()=>{t.value&&(console.debug("Removing scroll event handler"),t.value.removeEventListener("scroll",P))})),(e,h)=>((0,n.uX)(),(0,n.CE)("div",Oe,[(0,n.Lk)("div",Pe,[(0,n.Lk)("div",De,[(0,n.Lk)("div",ze,[(0,n.Lk)("label",Ke,[(0,n.Lk)("input",{type:"file",accept:"*/*",onChange:W,class:"file-input"},null,32),h[4]||(h[4]=(0,n.Lk)("span",{class:"material-icons"},"file_open",-1)),h[5]||(h[5]=(0,n.eW)(" Open File "))]),(0,n.Lk)("span",Ve,(0,s.v_)(l.value?`${l.value} (${r.value})`:"Intel HEX file automatically convert"),1)]),(0,n.Lk)("div",Je,[y.value&&k.value?((0,n.uX)(),(0,n.CE)("label",je,[(0,n.Lk)("input",{onClick:$,class:"file-input"}),h[6]||(h[6]=(0,n.Lk)("span",{class:"material-icons"},"file_download",-1)),h[7]||(h[7]=(0,n.eW)(" Export BIN "))])):(0,n.Q3)("",!0)])]),y.value?((0,n.uX)(),(0,n.CE)("div",Qe,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":h[0]||(h[0]=e=>b.value=e),value:"binary"},null,512),[[i.XL,b.value]]),h[8]||(h[8]=(0,n.eW)(" Binary "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":h[1]||(h[1]=e=>b.value=e),value:"hex"},null,512),[[i.XL,b.value]]),h[9]||(h[9]=(0,n.eW)(" Intel HEX "))])])):(0,n.Q3)("",!0),o.value?((0,n.uX)(),(0,n.CE)("div",He,[(0,n.Lk)("div",Ye,[(0,n.Lk)("div",{class:"progress",style:(0,s.Tr)({width:`${c.value}%`})},null,4)]),(0,n.Lk)("span",null,"File loading... "+(0,s.v_)(c.value)+"%",1)])):(0,n.Q3)("",!0),a.value?((0,n.uX)(),(0,n.CE)("div",Ze,[(0,n.Lk)("div",qe,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":h[2]||(h[2]=e=>d.value=e)},null,512),[[i.lH,d.value]]),h[10]||(h[10]=(0,n.eW)(" Show ASCII "))]),(0,n.Lk)("label",null,[h[12]||(h[12]=(0,n.Lk)("span",{style:{"padding-right":"10px"}},"Bytes/Line",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":h[3]||(h[3]=e=>u.value=e)},h[11]||(h[11]=[(0,n.Lk)("option",{value:8},"8",-1),(0,n.Lk)("option",{value:16},"16",-1)]),512),[[i.u1,u.value]])])]),h[13]||(h[13]=(0,n.Lk)("div",{class:"right-controls"},null,-1))])):(0,n.Q3)("",!0),a.value?((0,n.uX)(),(0,n.CE)("div",{key:3,class:"hex-view",ref_key:"hexView",ref:t},[(0,n.Lk)("div",{class:"hex-content",style:(0,s.Tr)({height:`${w.value}px`})},[(0,n.Lk)("div",{class:"viewport",style:(0,s.Tr)({transform:`translateY(${A.value}px)`})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(L.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.index,class:"hex-line"},[(0,n.Lk)("div",et,(0,s.v_)(I(e.offset)),1),(0,n.Lk)("div",tt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.bytes,((t,a)=>((0,n.uX)(),(0,n.CE)("span",{key:a,class:(0,s.C4)(["hex-byte",{highlighted:R(e.offset+a),selected:z(e.offset+a)}]),onClick:t=>D(e.offset+a)},(0,s.v_)(E(t)),11,at)))),128))]),d.value?((0,n.uX)(),(0,n.CE)("div",it,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.bytes,((t,a)=>((0,n.uX)(),(0,n.CE)("span",{key:a,class:(0,s.C4)({highlighted:R(e.offset+a),selected:z(e.offset+a)}),onClick:t=>D(e.offset+a)},(0,s.v_)(F(t)),11,nt)))),128))])):(0,n.Q3)("",!0)])))),128))],4)],4)],512)):(0,n.Q3)("",!0)])]))}};const ct=(0,p.A)(ot,[["__scopeId","data-v-000ea67a"]]);var dt=ct;const ut={class:"calculator-container"},ht={class:"calculator-card"},pt={class:"input-section"},gt={class:"capacity-section"},vt={class:"input-field"},mt={class:"current-time-section"},ft={class:"input-group"},bt={class:"input-field"},kt={class:"input-field"},yt={class:"input-group"},Lt={class:"input-field"},Ct={class:"input-field"},wt={class:"input-group"},At={class:"input-field"},It={class:"input-field"},Et={key:0,class:"results"},Ft={class:"result-chip"},Rt={class:"result-chip"};function xt(e,t,a,l,r,o){return(0,n.uX)(),(0,n.CE)("div",ut,[(0,n.Lk)("div",ht,[t[17]||(t[17]=(0,n.Lk)("h2",null,"Battery life calculator",-1)),(0,n.Lk)("div",pt,[(0,n.Lk)("div",gt,[(0,n.Lk)("div",vt,[t[8]||(t[8]=(0,n.Lk)("label",null,"Battery capacity (mAh)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>r.batteryCapacity=e)},null,512),[[i.Jo,r.batteryCapacity]])])]),t[16]||(t[16]=(0,n.Lk)("div",{class:"divider"},null,-1)),(0,n.Lk)("div",mt,[(0,n.Lk)("div",ft,[(0,n.Lk)("div",bt,[t[9]||(t[9]=(0,n.Lk)("label",null,"Execution Current(mA)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>r.runningCurrent=e)},null,512),[[i.Jo,r.runningCurrent]])]),(0,n.Lk)("div",kt,[t[10]||(t[10]=(0,n.Lk)("label",null,"Execution time(time)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>r.runningTime=e)},null,512),[[i.Jo,r.runningTime]])])]),(0,n.Lk)("div",yt,[(0,n.Lk)("div",Lt,[t[11]||(t[11]=(0,n.Lk)("label",null,"Idle current(mA)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>r.idleCurrent=e)},null,512),[[i.Jo,r.idleCurrent]])]),(0,n.Lk)("div",Ct,[t[12]||(t[12]=(0,n.Lk)("label",null,"Idle time(time)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>r.idleTime=e)},null,512),[[i.Jo,r.idleTime]])])]),(0,n.Lk)("div",wt,[(0,n.Lk)("div",At,[t[13]||(t[13]=(0,n.Lk)("label",null,"Ready current(mA)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>r.standbyCurrent=e)},null,512),[[i.Jo,r.standbyCurrent]])]),(0,n.Lk)("div",It,[t[14]||(t[14]=(0,n.Lk)("label",null,"Ready time(time)",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=e=>r.standbyTime=e)},null,512),[[i.Jo,r.standbyTime]])])])]),(0,n.Lk)("button",{class:"calculate-btn",onClick:t[7]||(t[7]=(...e)=>o.calculate&&o.calculate(...e))},t[15]||(t[15]=[(0,n.Lk)("span",{class:"material-icons"},"calculate",-1),(0,n.eW)(" Calculation ")])),r.averageCurrent>0?((0,n.uX)(),(0,n.CE)("div",Et,[(0,n.Lk)("div",Ft," Average current consumption: "+(0,s.v_)(r.averageCurrent.toFixed(3))+" mA ",1),(0,n.Lk)("div",Rt," Expected battery life: "+(0,s.v_)(r.batteryLife.toFixed(1))+" Hours("+(0,s.v_)(o.formattedBatteryLife)+") ",1)])):(0,n.Q3)("",!0)])])])}var Bt={data(){return{batteryCapacity:0,runningCurrent:0,runningTime:0,idleCurrent:0,idleTime:0,standbyCurrent:0,standbyTime:0,averageCurrent:0,batteryLife:0}},computed:{formattedBatteryLife(){const e=Math.floor(this.batteryLife/24),t=Math.floor(this.batteryLife%24);return e>0?`${e}day ${t}hour`:`${t}hour`}},methods:{calculate(){const e=this.runningTime+this.idleTime+this.standbyTime,t=(this.runningCurrent*this.runningTime+this.idleCurrent*this.idleTime+this.standbyCurrent*this.standbyTime)/e,a=this.batteryCapacity/t;this.averageCurrent=t,this.batteryLife=a}}};const $t=(0,p.A)(Bt,[["render",xt],["__scopeId","data-v-7cf4ef1e"]]);var Mt=$t;const _t={class:"changelog"},St={class:"version-list"},Ut={class:"version-date"};function Xt(e,t,a,i,l,r){return(0,n.uX)(),(0,n.CE)("div",_t,[t[0]||(t[0]=(0,n.Lk)("h1",null,"Change Log",-1)),(0,n.Lk)("div",St,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.versions,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"version-item"},[(0,n.Lk)("h2",null,(0,s.v_)(e.version),1),(0,n.Lk)("div",Ut,(0,s.v_)(e.date),1),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.changes,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t,class:(0,s.C4)(e.type)},(0,s.v_)(e.description),3)))),128))])])))),128))])])}var Gt={name:"ChangeLog",data(){return{versions:[{version:"v0.0.4",date:"2025-03-20",changes:[{type:"feature",description:"Added Intel Hexa Convert to Bin feature "},{type:"improvement",description:"Image MAP usability improvement"}]},{version:"v0.0.3",date:"2025-03-06",changes:[{type:"feature",description:"Added IamgeMap feature "}]},{version:"v0.0.2",date:"2025-03-06",changes:[{type:"feature",description:"Added mobile support and multi-file selection"},{type:"improvement",description:"Add responsive code to avoid user frustration on mobile devices "}]},{version:"v0.0.1",date:"2025-02-28",changes:[{type:"feature",description:"Initial release"},{type:"improvement",description:"Add a new feature to convert images to binary"}]}]}}};const Wt=(0,p.A)(Gt,[["render",Xt],["__scopeId","data-v-3f38a17c"]]);var Nt=Wt;const Tt=[{path:"/",name:"ImageConverter",component:ee},{path:"/image-map",name:"ImageMap",component:Ne},{path:"/binary-viewer",name:"BinaryViewer",component:dt},{path:"/battery-calc",name:"BatteryCalc",component:Mt},{path:"/change-logs",name:"ChangeLog",component:Nt}],Ot=(0,m.aE)({history:(0,m.Bt)(),routes:Tt});var Pt=Ot,Dt=a(2872);const zt=(0,i.Ef)(v);zt.use(Dt.Ay,{config:{id:"G-DGQYPE2G1E"}},Pt),zt.use(Pt).mount("#app")}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,i,n,s){if(!i){var l=1/0;for(d=0;d<e.length;d++){i=e[d][0],n=e[d][1],s=e[d][2];for(var r=!0,o=0;o<i.length;o++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](i[o])}))?i.splice(o--,1):(r=!1,s<l&&(l=s));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,n,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,s,l=i[0],r=i[1],o=i[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(o)var d=o(a)}for(t&&t(i);c<l.length;c++)s=l[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},i=self["webpackChunknovatool_claude"]=self["webpackChunknovatool_claude"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(146)}));i=a.O(i)})();
//# sourceMappingURL=app.2d7abb84.js.map